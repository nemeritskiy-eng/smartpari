<!-- index.html -->
<!DOCTYPE html>
<html>
<head>
    <title>Multi-Party Agreement Platform</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
<!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
<nav id="navbar">
    <div class="nav-container">
        <div class="nav-brand">
            <h2>ü§ù Agreement Platform</h2>
        </div>
        <div class="nav-links">
            <a href="#home" class="nav-link">Home</a>
            <a href="#client" class="nav-link client-only">Client</a>
            <a href="#judge" class="nav-link judge-only">Judge</a>
            <a href="#admin" class="nav-link admin-only">Admin</a>
            <div id="wallet-info" class="wallet-info"></div>
            <button id="connect-wallet" class="btn-primary">Connect Wallet</button>
        </div>
    </div>
</nav>

<!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
<main id="main-content">
    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∑–∫–∏ -->
    <div id="loading-page" class="page active">
        <div class="loading-spinner"></div>
        <p>Loading application...</p>
    </div>

    <!-- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
    <div id="home-page" class="page">
        <div class="hero-section">
            <h1>Multi-Party Agreement Platform</h1>
            <p>Secure and transparent smart contract agreements</p>
        </div>

        <div class="features-grid">
            <div class="feature-card">
                <h3>üë§ For Clients</h3>
                <p>Create agreements and manage your rounds</p>
                <button class="btn-secondary goto-client">Go to Client Panel</button>
            </div>

            <div class="feature-card">
                <h3>‚öñÔ∏è For Judges</h3>
                <p>Manage rounds and resolve disputes</p>
                <button class="btn-secondary goto-judge">Go to Judge Panel</button>
            </div>

            <div class="feature-card">
                <h3>üîß For Admins</h3>
                <p>Deploy contracts and manage platform</p>
                <button class="btn-secondary goto-admin">Go to Admin Panel</button>
            </div>
        </div>
    </div>

    <!-- –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –ø–∞–Ω–µ–ª—å -->
    <div id="client-page" class="page">
        <div class="page-header">
            <h2>üë§ Client Panel</h2>
            <p>Manage your agreement rounds</p>
        </div>

        <div class="client-sections">

            <!-- –î–µ–ø–æ–∑–∏—Ç -->
            <section class="client-section">
                <h3>Make Deposit</h3>
                <div class="form-group">
                    <label>Round ID:</label>
                    <input type="number" id="client-round-id" placeholder="1" class="form-input">
                </div>
                <div class="form-group">
                    <label>Amount (BNB):</label>
                    <input type="number" id="client-deposit-amount" placeholder="0.1" step="0.001" class="form-input">
                </div>
                <button id="client-make-deposit" class="btn-primary">Make Deposit</button>
            </section>

            <!-- –ú–æ–∏ —Ä–∞—É–Ω–¥—ã -->
            <section class="client-section">
                <h3>My Rounds</h3>
                <div id="client-rounds-list" class="rounds-list">
                    <!-- –°–ø–∏—Å–æ–∫ —Ä–∞—É–Ω–¥–æ–≤ –±—É–¥–µ—Ç –∑–¥–µ—Å—å -->
                </div>
                <button id="client-refresh-rounds" class="btn-primary">Refresh-rounds</button>
            </section>
        </div>
    </div>

    <!-- –ü–∞–Ω–µ–ª—å —Å—É–¥—å–∏ -->
    <div id="judge-page" class="page">
        <div class="page-header">
            <h2>‚öñÔ∏è Judge Panel</h2>
            <p>Manage and resolve agreement rounds</p>
        </div>

        <!-- –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞—É–Ω–¥–∞ -->
        <section class="judge-sections">
            <h3>Create New Round</h3>
            <div class="form-group">
                <label>User A Address:</label>
                <input type="text" id="client-userA" placeholder="0x..." class="form-input">
            </div>
            <div class="form-group">
                <label>User B Address:</label>
                <input type="text" id="client-userB" placeholder="0x..." class="form-input">
            </div>
            <button id="judge-start-round" class="btn-primary">Start Round</button>
        </section>

        <div class="judge-sections">
            <!-- –ê–∫—Ç–∏–≤–Ω—ã–µ —Ä–∞—É–Ω–¥—ã -->
            <section class="judge-section">
                <h3>Active Rounds</h3>
                <div id="judge-active-rounds" class="rounds-list">
                    <!-- –ê–∫—Ç–∏–≤–Ω—ã–µ —Ä–∞—É–Ω–¥—ã –¥–ª—è —Å—É–¥—å–∏ -->
                </div>
            </section>

            <!-- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤ -->
            <section class="judge-section">
                <h3>Distribute Round</h3>
                <div class="form-group">
                    <label>Round ID:</label>
                    <input type="number" id="judge-round-id" placeholder="1" class="form-input">
                </div>
                <button id="judge-distribute" class="btn-primary">Distribute Funds</button>
            </section>

            <!-- –ò—Å—Ç–æ—Ä–∏—è —Ä–µ—à–µ–Ω–∏–π -->
            <section class="judge-section">
                <h3>Decision History</h3>
                <div id="judge-history" class="history-list">
                    <!-- –ò—Å—Ç–æ—Ä–∏—è —Ä–µ—à–µ–Ω–∏–π —Å—É–¥—å–∏ -->
                </div>
                <button id="judge-refresh" class="btn-primary">Refresh Funds</button>
            </section>
        </div>
    </div>

    <!-- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å -->
    <div id="admin-page" class="page">
        <div class="page-header">
            <h2>üîß Admin Panel</h2>
            <p>Platform management and contract deployment</p>
        </div>

        <div class="admin-sections">
            <!-- –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ -->
            <section class="admin-section">
                <h3>Deploy New Contract</h3>
                <div class="form-group">
                    <label>Contract Version:</label>
                    <select id="contract-version" class="form-input">
                        <option value="v1">Version 1.0</option>
                        <option value="v2">Version 2.0</option>
                    </select>
                </div>
                <button id="admin-deploy-contract" class="btn-primary">Deploy Contract</button>
                <div id="deploy-status" class="status-message"></div>
            </section>

            <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—É–¥—å—è–º–∏ -->
            <section class="admin-section">
                <h3>Manage Judges</h3>
                <div class="form-group">
                    <label>Judge Address:</label>
                    <input type="text" id="judge-address" placeholder="0x..." class="form-input">
                </div>
                <div class="button-group">
                    <button id="admin-add-judge" class="btn-success">Add Judge</button>
                    <button id="admin-remove-judge" class="btn-danger">Remove Judge</button>
                </div>
                <div id="judges-list" class="address-list">
                    <!-- –°–ø–∏—Å–æ–∫ —Å—É–¥–µ–π -->
                </div>
            </section>

            <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã -->
            <section class="admin-section">
                <h3>Platform Statistics</h3>
                <div id="platform-stats" class="stats-grid">
                    <div class="stat-card">
                        <h4>Total Rounds</h4>
                        <span id="total-rounds">0</span>
                    </div>
                    <div class="stat-card">
                        <h4>Active Rounds</h4>
                        <span id="active-rounds">0</span>
                    </div>
                    <div class="stat-card">
                        <h4>Total Value</h4>
                        <span id="total-value">0 BNB</span>
                    </div>
                </div>
            </section>
        </div>
    </div>
</main>

<!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
<div id="modal-overlay" class="modal-overlay">
    <div id="transaction-modal" class="modal">
        <h3>Transaction in Progress</h3>
        <div class="loading-spinner"></div>
        <p id="transaction-message">Processing transaction...</p>
        <a id="transaction-link" target="_blank" style="display: none;">View on Explorer</a>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
<script src="js/config.js"></script>
<script src="js/auth.js"></script>
<script src="js/roles.js"></script>
<script src="js/contract.js"></script>
<script src="js/rounds-manager.js"></script>
<script src="js/client-panel.js"></script>
<script src="js/judge-panel.js"></script>
<script src="js/app.js"></script>
</body>
</html>